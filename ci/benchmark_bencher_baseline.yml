include:
  - local: 'ci/base.yml'

.benchmark_model_stencils:
  stage: benchmark
  script:
    - for BACKEND in gtfn_cpu gtfn_gpu; do
        for GRID in icon_grid icon_grid_global; do
          export BACKEND=$BACKEND;
          export GRID=$GRID;
          nox -s bencher_baseline-3.10 -- --backend=$BACKEND --grid=$GRID;
        done;
      done

# benchmark_bencher_baseline_x86_64:
#   extends: [.benchmark_model_stencils, .test_template_x86_64]

benchmark_bencher_baseline_aarch64:
  extends: [.benchmark_model_stencils, .test_template_aarch64]
